define("bpmn/Transformer",[],function(){function i(e){var t;if(e instanceof Document)t=e;else if(window.DOMParser){var n=new DOMParser;t=n.parseFromString(e,"text/xml")}else t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e);return t}function s(){this.parseListeners=[]}function o(e){return new Error(e)}var e="http://www.omg.org/spec/BPMN/20100524/MODEL",t="http://www.omg.org/spec/BPMN/20100524/DI",n="http://www.omg.org/spec/DD/20100524/DC",r="http://www.omg.org/spec/DD/20100524/DI";return s.prototype.transform=function(n){function c(t,n,r){function c(e,t){for(var n=0;n<e.childNodes.length;n++)if(e.childNodes[n].localName==t)return e.childNodes[n]}var i={};!n||n.baseElements.push(i);var s=t.attributes;i.type=t.localName;for(var o=0;s!=null&&o<s.length;o++){var u=s[o];i[u.nodeName]=u.nodeValue}if(i.type=="textAnnotation"){var a=t.getElementsByTagNameNS(e,"text")[0].firstChild.data;i.text=a}var f=r[i.id];!f||(i.bpmndi=f),i.id||(i.id=i.type+"_"+l,l++);var h=c(t,"multiInstanceLoopCharacteristics"),p=c(t,"standardLoopCharacteristics");return i.marker={},h&&h.getAttribute("isSequential")==="true"?i.marker.multiInstanceSequential=!0:h&&(i.marker.multiInstanceParallel=!0),p&&(i.marker.loop=!0),i.isForCompensation=="true"&&(i.marker.compensation=!0),i}function h(e,t,n,r){var i=c(e,t,r);i.outgoing=[],i.listeners=[],i.properties={};var s=e.attributes;if(!!n){var u=n[i.id];if(!!u){for(var a=0;a<u.length;a++)i.outgoing.push(u[a].id);if(!!i.default&&f){var l=!1;for(var a=0;a<u.length;a++){var h=u[a];if(!!h.condition){if(i.defaultFlowId==h.id)throw o("Sequence flow with id '"+h.id+"' is configured to be the default flow but has a condition");l=!0}}if(!l)throw o("Activity with id '"+i.id+"' declares default flow with id '"+i.default+"' but has no conditional flows.")}}}return i}function p(e,t,n,r){var i=h(e,t,n,r);return i}function d(t,n,r){var i=c(t,n,r),s=t.getElementsByTagNameNS(e,"dataInput"),o=t.getElementsByTagNameNS(e,"dataOutput"),u=[];for(var a=0;a<s.length;a++)u.push(c(s[a],n,r));for(var a=0;a<o.length;a++)u.push(c(o[a],n,r));return i.baseElements=u,i}function v(e,t,n){if(e.childNodes.length==0)return;var r=e.firstChild;do{var i=r.nodeName;i=="lane",c(r,t,n)}while(r=r.nextSibling)}function m(e,t,n,r){var i=h(e,t,n,r);i.eventDefinitions=[];var s=e.firstChild;if(!!s)do if(s.nodeName.indexOf("EventDefinition")!=-1){var o=s.nodeName;o.indexOf(":")!=-1&&(o=o.substr(o.indexOf(":")+1,o.length)),i.eventDefinitions.push({type:o})}while(s=s.nextSibling);return i}function g(t,n,r,i){var s=c(t,n,r);!s.sourceRef||(i[s.sourceRef]||(i[s.sourceRef]=[]),i[s.sourceRef].push(s));var o=t.getElementsByTagNameNS(e,"conditionExpression");if(!!o&&o.length>0){var u=o[0];s.condition=u.textContent}return s.properties={},s}function y(e,t,n){e=e.firstChild;var r={};if(!e)return r;do(e.nodeName=="sequenceFlow"||e.localName=="sequenceFlow")&&g(e,t,n,r);while(e=e.nextSibling);return r}function b(e,t,n,r){var i=h(e,t,n,r),s=0;for(var o in n){var u=n[o];for(var a=0;a<u.length;a++)u[a].targetRef==i.id&&s++}return i.cardinality=s,i}function w(e,t,n,r){var i=h(e,t,null,r),s=i.sequenceFlows,u=i.default;if(!!n&&f){var s=n[i.id];if(!!s){i.sequenceFlows=s;if(s.length==1){if(!!s[0].condition)throw o("If an exclusive Gateway has a single outgoing sequence flow, the sequence flow is not allowed to have a condition.")}else if(s.length>1){var a=[];for(var l=0,c;!!(c=s[l]);l++){var p=!!c.condition,d=u===c.id;!p&&!d&&a.push(c);if(p&&d)throw o("Sequence flow with id '"+c.id+"' is configured to be the default flow but has a condition.")}if(!!u&&a.length>0||a.length>1)throw o("Exclusive Gateway '"+i.id+"' has outgoing sequence flows without conditions which are not the default flow.");!u&&a.length===1&&console.log("[Transformer]: Sequence flow with id '"+a[0].id+"' has no conditions but it is not configured to be the default flow.")}}}return i}function E(e,t,n,i){for(var s=0;s<r.length;s++){var o=r[s];o(e,t,n,i)}}function S(e,t,n){t.baseElements=[];var r=y(e,t,n),i=e.firstChild;if(!i)return;do{var s=null,o=i.nodeName;o.indexOf(":")!=-1&&(o=o.substr(o.indexOf(":")+1,o.length));var u=["callActivity","task","manualTask","serviceTask","scriptTask","userTask","sendTask","recieveTask","businessRuleTask"],a=["startEvent","endEvent","intermediateThrowEvent","intermediateCatchEvent","boundaryEvent"];o=="exclusiveGateway"?s=w(i,t,r,n):o=="parallelGateway"?s=b(i,t,r,n):u.indexOf(o)!=-1?s=p(i,t,r,n):a.indexOf(o)!=-1?s=m(i,t,r,n):o=="laneSet"?s=v(i,t,n):o=="subProcess"||o=="adHocSubProcess"||o=="transaction"?s=T(i,t,r,n):o=="ioSpecification"?s=d(i,t,n):!!i&&i.nodeName!="sequenceFlow"&&i.nodeType==1&&(s=c(i,t,n)),!s||E(s,i,t,e)}while(i=i.nextSibling)}function x(e,t){var n=h(e,null,null,t);n.isExecutable?f=n.isExecutable=="true":f=!1,S(e,n,t),a.push(n),E(n,e)}function T(e,t,n,r){var i=h(e,t,n,r);S(e,i,r),E(i,e)}function N(e,t){var n={};n.type=e.localName;for(var r=0;e.attributes!=null&&r<e.attributes.length;r++){var i=e.attributes.item(r);i.nodeName!="bpmnElement"&&(n[i.nodeName]=i.nodeValue)}var s=[],o=e.firstChild;if(!!o)do N(o,s);while(o=o.nextSibling);s.length>0&&(n.children=s),t.push(n)}function C(e,n){var r;!!e.namespaceURI&&e.namespaceURI==t&&(r=e.getAttribute("bpmnElement"));var i=e.firstChild;if(!!i)do if(e.localName=="BPMNDiagram"||e.localName=="BPMNPlane")C(i,n);else{var s=[];N(e,s),n[r]=s}while(i=i.nextSibling)}function k(t,n){var r=[],i=t.getElementsByTagNameNS(e,"messageFlow");for(var s=0,o;!!(o=i[s]);s++){var u=c(o,null,n);r.push(u)}return r}function L(t,n){var r=[],i=t.getElementsByTagNameNS(e,"participant");for(var s=0;s<i.length;s++){var o=c(i[s],null,n);r.push(o)}return r}function A(t){var n=[],r=t.getElementsByTagNameNS(e,"categoryValue");if(r.length!=0)for(var i=0;i<r.length;i++){var s=c(r[i],null,[]);n.push(s)}return n}function O(t,n){var r=[],i=t.getElementsByTagNameNS(e,"dataInputAssociation"),s=t.getElementsByTagNameNS(e,"dataOutputAssociation");for(var o=0,u;!!(u=i[o]);o++)r.push(c(u,null,n));for(var a=0,f;!!(f=s[a]);a++)r.push(c(f,null,n));return r}function M(t,n){var r=[],i=t.getElementsByTagNameNS(e,"message");for(var s=0;s<i.length;s++){var o=c(i[s],null,n);r.push(o)}return r}function _(n){var r=n.getElementsByTagNameNS(t,"BPMNDiagram"),i={};for(var s=0;s<r.length;s++)C(r[s],i);var o=n.getElementsByTagNameNS(e,"process"),u={},f=L(n,i),l=A(n);a=l.concat(a.concat(f));for(var c=0,h;!!(h=f[c]);c++){if(!h.processRef)continue;i[h.processRef]=i[h.id],u[h.processRef]=h.name}for(var p=0,d;!!(d=o[p]);p++){var v=u[d.getAttribute("id")];v&&d.setAttributeNS(e,"name",u[d.getAttribute("id")]),x(d,i)}var m=k(n,i),g=O(n,i),y=M(n,i);return a.concat(m,g,y)}var r=this.parseListeners,s=i(n),u=s.getElementsByTagNameNS(e,"definitions");if(u.length==0)throw o("A BPMN 2.0 XML file must contain at least one definitions element");var a=[],f=!1,l=0;return _(u[0])},s}),define("bpmn/Renderer",["dojox/gfx","jquery"],function(e,t){function r(e){if(!e)throw new at("Base element cannot be null");this.baseElement=e}function D(e,t,n){t.moveToFront();var r=n.overlayMap[e.id];r.appendTo(r.parent())}function P(e,t){var n=[];for(var r=0,i=e.length;r<i;r+=t)n.push(e.substring(r,r+t));return n}function B(e,t,n){var r=[];for(var i=1,s=!1;s==0;i++){var o=e.length/i,u=t(e.substring(0,o));u.getTextWidth()<=n&&(r=P(e,o),s=!0),u.getParent().remove(u)}return r}function j(e,t,n,r,i,s){return function(o,u,a){var f=n(o),l=i?t-(a>1?a*r*.25:0)+u*r:t+u*r;s?s(f,l,u,a):f.setTransform({dx:e,dy:l})}}function F(e,t,n,r){var i=0;for(var s=0;s<e.length;s++,i++){var o=e[s];/^[\n\r]+$/.test(o)&&(o="");var u=t(o);if(u.getTextWidth()>r){var a=B(o,t,r);for(var f=0;f<a.length;f++)n(a[f],f+i,a.length);i+=a.length-1}else n(o,i,e.length);u.getParent().remove(u)}return i}function I(e,t){var n=[],i="",s="";for(var o=0;o<e.length;o++){if(e[o].length==0)continue;i=s+" "+e[o];var u=o==e.length-1,a=t(i);a.getTextWidth()>r.wordWrapMaxWidth?(s.length!=0&&n.push(s.trim()),s=e[o],u&&(n=n.concat(e[o].split(" ")))):u?n.push(i.trim()):s=i,a.getParent().remove(a)}return n}function q(e,t,n,i,s,o,u){var a=n.size?n.size:10,f="right",l="<w>",c=H(t,n,o,f),h=j(i,s,c,a,u);if(!e||e.length==0)return;var e=e.replace(/&#xD;/g,l).replace(/&#xA;/g,l).replace(/&#10;/g,l).replace(/\n/g,l).trim(),p=[],d=e.indexOf(l)!=-1,v=e.split(" ");return v.length==1?p=v[0].split(l):d?p=e.split(l):p=I(v,c),F(p,c,h,r.wordWrapMaxWidth)}function R(e,t,n,i,s){var o=e.renderElement;if(!o.name)return;var u={family:O["font-family"],size:O["font-size"],weight:"normal"},a=e.getLabelBounds(),f=a?{x:+a.x+r.labelPadding,y:+a.y+r.labelPadding}:{x:+n.x,y:+n.y},l=f.x,c=f.y,h=q(o.name,t,u,+l,+c,a?null:i,s);return{group:t,lineCount:h}}function V(e){var t=0,n=0,r=0;for(var i in e){var s=e[i],o=1;e.length>2&&i==1&&(o=12),t+=+s.x*o,n+=+s.y*o,r+=o}return{x:t/r,y:n/r}}function et(t){var n=t.from,r=t.to,i=t.group,s=t.open,o={x:r.x-n.x,y:r.y-n.y},u=8,a=4,f="M"+(r.x-u)+" "+(r.y+a)+" L "+r.x+" "+r.y+" L"+(r.x-u)+" "+(r.y-a);s||(f+=" Z");var l=i.createGroup(),c=l.createPath(f),h=Math.atan2(-o.y,o.x);return c.setTransform([e.matrix.rotateAt(-h,r)]),c}function tt(e,t){var n=4,r=t.createGroup(),i=r.createCircle({cx:e.x,cy:e.y,r:n});return i}function ft(e){for(var t in e){var n=e[t];if(/bounds/i.test(n.type))return n}return null}function lt(){}var n=t.extend,i={messagecatch:"m 0.7,0.18618099 8,5.99999991 8,-5.99999991 z m 0,0.99999991 0,10.0000021 16,0 0,-10.0000021 -8,6 z",messagethrow:"m 0.7,0.18618099 8,5.99999991 8,-5.99999991 z m 0,0.99999991 0,10.0000021 16,0 0,-10.0000021 -8,6 z",timerEventDefinition:"m 5.7098215,0.07589285 c -5.99031189,0 -10.84375,4.85343775 -10.84375,10.84375015 0,5.990311 4.85343811,10.875 10.84375,10.875 5.9903115,0 10.8749995,-4.884689 10.8749995,-10.875 0,-5.9903125 -4.884688,-10.84375015 -10.8749995,-10.84375015 z m 0,1.00000005 c 5.4498715,0 9.8749995,4.3938778 9.8749995,9.8437501 0,5.449871 -4.425128,9.875 -9.8749995,9.875 -5.44987165,0 -9.84375,-4.425129 -9.84375,-9.875 0,-5.4498724 4.39387835,-9.8437501 9.84375,-9.8437501 z m -0.5,0 0,3 1,0 0,-3 -1,0 z m -4.0625001,0.78125 -0.87499995,0.4375 1.50000005,3 0.875,-0.4375 -1.5000001,-3 z m 9.1249996,0 -1.4999998,3 0.875,0.4375 1.4999998,-3 -0.875,-0.4375 z m -3.0312498,2.0625 -1.9999997,7.0000001 -0.1875,0.65625 0.65625,0 3.9999997,0 0,-1 -3.3124997,0 1.8124997,-6.3750001 -0.96875,-0.28125 z m -10.3124997,1.71875 -0.4375,0.875 2.99999989,1.5 0.43750002,-0.875 -2.99999991,-1.5 z m 17.5624995,0 -3,1.5 0.4375,0.875 3,-1.5 -0.4375,-0.875 z m -18.7812495,4.9375001 0,1 3,0 0,-1 -3,0 z m 16.9999995,0 0,1 3,0 0,-1 -3,0 z m -13.21874961,3.5625 -2.99999989,1.5 0.4375,0.875 2.99999991,-1.5 -0.43750002,-0.875 z m 12.43749961,0 -0.4375,0.875 3,1.5 0.4375,-0.875 -3,-1.5 z m -10.1562495,2.71875 -1.50000005,3 0.87499995,0.4375 1.5000001,-3 -0.875,-0.4375 z m 7.8749997,0 -0.875,0.4375 1.4999998,3 0.875,-0.4375 -1.4999998,-3 z m -4.4374997,1.21875 0,3 1,0 0,-3 -1,0 z",errorEventDefinition:"M 11.463696,4.1000734 8.0101971,17.518491 2.1842371,7.2103904 -2.0184917,13.000178 1.6918061,-0.23912289 7.6390051,9.0612304 11.463696,4.1000734 z",escalationEventDefinition:"m 3.629,-0.1288182 6,15.0000012 -6,-6.7500012 -6,6.7500012 z",signalEventDefinition:"m -3,10.747183 14.620837,0 L 4.3104179,-1.924209 -3,10.747183 z",cancelEventDefinition:"M -3.099,2.5764382 -0.6787673,0.1562061 4.1616964,4.9966705 9.0021612,0.15620559 11.422392,2.5764374 6.5819284,7.416902 11.422393,12.257368 9.0021612,14.677601 4.1616964,9.837136 -0.67876815,14.6776 -3.0989996,12.257367 1.7414641,7.4169029 -3.099,2.5764382 z",conditionalEventDefinition:"m -3.0037595,0.38909773 15.2932325,0 0,15.29323327 -15.2932325,0 0,-15.29323327 m 2.54887227,2.54887217 10.19548863,0 m -10.19548863,3.3984963 10.19548863,0 m -10.19548863,3.3984961 10.19548863,0 m -10.19548863,3.3984967 10.19548863,0 z",compensateEventDefinition:"m 3.1,-0.32181697 0,13.99999997 -7,-7 7,-6.99999997 m 7,0 0,13.99999997 -7,-7 7,-6.99999997 z",multipleParallel:"m -4.075,6.121179 0,6.000004 6.25,0 0,6.75 6,0 0,-6.75 6.75,0 0,-6.000004 -6.75,0 0,-6.24999992 -6,0 0,6.24999992 z",multiple:"M 9.770542,15.081371 -0.30230591,15.080531 -3.414188,5.5004192 4.735411,-0.41957216 12.884022,5.5017792 9.770542,15.081371 z",linkEventDefinition:"m -1.5357143,2.8073706 9,0 0,-2.99999997 5.0000003,4.99999997 -5.0000003,5 0,-3 -10,0 0,-4"},s={userTask:"M 13.958222,1.3965348 c 0.182747,0.8062061 0.403968,1.6764836 0.446907,2.5155819 0.01134,0.2240793 0.02473,0.518055 -0.06905,0.7092419 0.764998,0.5077757 0.390571,1.5630737 -0.05702,2.0999727 -0.161107,0.192558 -0.527289,0.431713 -0.609044,0.670525 -0.120916,0.351195 -0.270343,0.695879 -0.483663,1.006644 -0.178281,0.259027 -0.140152,0.06304 -0.317747,0.460493 -0.120228,0.539983 -0.302632,1.7628257 -0.04466,2.2647777 0.338701,0.65819 1.080683,1.074827 1.69488,1.424993 0.814119,0.464605 1.723734,0.805521 2.593159,1.151919 0.800379,0.318987 1.635108,0.557115 2.405258,0.947026 0.241488,0.121976 0.485037,0.241211 0.713815,0.386486 0.184465,0.117179 0.493968,0.297744 0.537937,0.534158 v 1.85842 H 0.15494912 l 0.014084,-1.85842 c 0.043969,-0.236071 0.353472,-0.416979 0.5379371,-0.534158 0.2287778,-0.145275 0.47232658,-0.264167 0.71381428,-0.386486 0.7701499,-0.389911 1.6052233,-0.628039 2.4052587,-0.947026 0.8694245,-0.346741 1.7786961,-0.687314 2.5931586,-1.151919 0.613853,-0.350166 1.355835,-0.766803 1.694536,-1.424993 0.25832,-0.502295 0.114046,-1.7302767 -0.0065,-2.2695747 l 0,0 c -0.20645,-0.133282 -0.349007,-0.54615 -0.466144,-0.752755 -0.12332,-0.218255 -0.222594,-0.453641 -0.373052,-0.655792 -0.205076,-0.275817 -0.546868,-0.404988 -0.77015,-0.66333 -0.149083,-0.172 -0.212633,-0.385115 -0.286487,-0.596174 -0.08828,-0.252175 -0.045,-0.457067 -0.0845,-0.740421 -0.01752,-0.121291 0.04466,-0.262112 0.116794,-0.364558 0.08863,-0.126087 0.250075,-0.1507564 0.290953,-0.3104215 0.0505,-0.1976969 -0.0608,-0.429314 -0.0821,-0.6246125 -0.02267,-0.2086611 -0.07695,-0.5413538 -0.07592,-0.7507001 0.0034,-0.7596083 -0.137404,-1.4448662 0.472327,-2.0451523 0.21435,-0.2103742 0.457899,-0.39231013 0.690455,-0.58212663 l 0,0 c 0.08931,-0.2836968 0.51767,-0.4584375 0.768089,-0.5536884 0.325304,-0.1233464 0.667441,-0.1925574 1.000989,-0.2915772 1.0064852,-0.2991151 2.1630842,-0.2672506 3.0455622,0.3525652 0.289579,0.2035216 0.688738,0.028781 0.993775,0.2035216 0.293701,0.1685734 0.644082,0.55814253 0.610418,0.91756033 Z",serviceTask:"m 20.347,4.895 -2.561,2.56 0.943,2.277 3.624,0 0,3.383 -3.622,0 -0.943,2.277 2.563,2.563 -2.393,2.392 -2.561,-2.561 -2.277,0.943 0,3.624 -3.383,0 0,-3.622 L 7.46,17.788 4.897,20.35 2.506,17.958 5.066,15.397 4.124,13.12 l -3.624,0 0,-3.383 3.621,0 0.944,-2.276 -2.562,-2.563 2.392,-2.392 2.56,2.56 2.277,-0.941 0,-3.625 3.384,0 0,3.621 2.276,0.943 2.562,-2.562 z",scriptTask:"M6.402,0.5H20.902C20.902,0.5,15.069,3.333,15.069,6.083S19.486,12.083,19.486,15.25S15.319,20.333,15.319,20.333H0.235C0.235,20.333,5.235,17.665999999999997,5.235,15.332999999999998S0.6520000000000001,8.582999999999998,0.6520000000000001,6.082999999999998S6.402,0.5,6.402,0.5ZM3.5,4.5L13.5,4.5M3.8,8.5L13.8,8.5M6.3,12.5L16.3,12.5M6.5,16.5L16.5,16.5",receiveTask:"m 0.9390847,0.90862706 0,12.57129694 20.0406103,0 0,-12.57129694 z m 0,0 L 10.959389,8.4514053 20.979695,0.90862706",sendTask:"M 0.93908473,0.91877964 8.9390847,6.9187796 16.939085,0.91877964 z m 0,0.99999996 0,10.0000004 16.00000027,0 0,-10.0000004 -8.0000003,6 z",manualTask:"M0.5,3.751L4.583,0.5009999999999999C4.583,0.5009999999999999,15.749,0.5839999999999999,16.666,0.5839999999999999S14.249,3.5009999999999994,15.166,3.5009999999999994S26.833,3.5009999999999994,27.75,3.5009999999999994C28.916,5.209,27.582,6.667999999999999,26.916,7.167999999999999S27.791,9.084999999999999,25.916,11.584999999999999C25.166,11.834999999999999,26.666,13.459999999999999,24.583000000000002,14.918C23.416,15.501,25.166,16.46,23.333000000000002,17.750999999999998C22.166,17.750999999999998,2.5000000000000036,17.833999999999996,2.5000000000000036,17.833999999999996L0.5000000000000036,16.500999999999998V3.751ZM13.5,7L27,7M13.5,11L26,11M14,14.5L25,14.5M8.2,3.1L15,3.1",businessRuleTask:"m 0.32589285,0.32077148 0,0.25000003 0,4.46874999 0,0.25 0.25,0 17.03125015,0 0.25,0 0,-0.25 0,-4.46874999 0,-0.25000003 -0.25,0 -17.03125015,0 -0.25,0 z m 0.5,0.50000003 16.53125015,0 0,3.96874999 -16.53125015,0 0,-3.96874999 z m 4.71875005,4.91635739 0,5.7500011 -4.75000005,0 0,0.5 4.75000005,0 0,3.75 0.5,0 0,-3.75 11.7500001,0 0,-0.5 -11.7500001,0 0,-5.7500011 -0.5,0 z m -5.21875005,-0.050286 0,0.3059125 0,9.7509627 0,0.305912 0.25,0 17.12500015,0 0.25,0 0,-0.305912 0,-9.7509627 0,-0.3059125 -0.25,0 -17.12500015,0 -0.25,0 z m 0.5,0.611825 16.62500015,0 0,9.1391372 -16.62500015,0 0,-9.1391372 z"},o={dataObject:{path:"m 0.49099769,0.73102628 39.21440331,0 9.803601,9.83633372 0,49.181671 -49.01800431,0 0,-59.01800472 m 39.21440331,0 0,9.83633372 9.803601,0",width:50,height:60},dataObjectReference:{path:"m 0.49099769,0.73102628 39.21440331,0 9.803601,9.83633372 0,49.181671 -49.01800431,0 0,-59.01800472 m 39.21440331,0 0,9.83633372 9.803601,0",width:50,height:60},dataInput:{path:"m 0.49099769,0.73102628 39.21440331,0 9.803601,9.83633372 0,49.181671 -49.01800431,0 0,-59.01800472 m 39.21440331,0 0,9.83633372 9.803601,0",width:50,height:60},dataOutput:{path:"m 0.49099769,0.73102628 39.21440331,0 9.803601,9.83633372 0,49.181671 -49.01800431,0 0,-59.01800472 m 39.21440331,0 0,9.83633372 9.803601,0",width:50,height:60},dataStoreReference:{path:"m 59.525317,15.298375 c 0,1.948956 -3.447739,6.428808 -29.779135,6.428808 -26.3304438,0 -29.2714988,-4.598594 -29.2714988,-6.333617 m 0,-4.563267 c 0,1.736004 2.941055,6.334599 29.2714988,6.334599 26.331396,0 29.779135,-4.479852 29.779135,-6.428808 M 0.4746832,6.2670314 c 0,2.306167 2.941055,6.3345996 29.2714988,6.3345996 26.331396,0 29.779135,-3.8390326 29.779135,-6.4297906 m 0,9.81e-4 V 10.926471 M 0.49754114,6.1728214 V 10.926471 M 59.525317,10.73609 v 4.753647 M 0.49754114,10.73609 v 4.753647 M 29.722371,0.55068142 c 19.060666,0 29.802946,2.99310998 29.802946,5.62213998 0,2.62805 0,44.2548566 0,47.3441386 0,3.089282 -15.638642,6.084356 -29.894377,6.084356 -14.255736,0 -29.1562568,-2.899883 -29.1562568,-6.180529 0,-3.279663 0,-44.8750666 0,-47.1537556 0,-2.278689 10.1879748,-5.71634998 29.2476878,-5.71634998 z",width:60,height:60}},u={loop:"m 0,2.4999366 0,3 -3,0 m 3,0 a 4.875,4.875 0 1 1 4,0",multiInstanceSequential:"m -2.499754,-2 h 10 m -10,4 h 10 m -10,4 h 10",multiInstanceParallel:"m -2.199754,-2 v 8 m 4,-8 v 8 m 4,-8 v 8",adHoc:"M -0.59975394,0 C -1.1428039,0.60192 -1.648284,1.0324 -2.116224,1.29142 c -0.46216,0.25908 -0.94744,0.38857 -1.4558,0.38857 -0.57194,0 -1.23628,-0.22473 -1.99307,-0.67428 -0.0577,-0.0306 -0.10111,-0.0534 -0.12999,-0.0687 -0.0346,-0.0228 -0.0896,-0.0533 -0.16464,-0.0915 -0.80878,-0.47234 -1.4558,-0.70857 -1.94107,-0.70857 -0.46217,0 -0.91566,0.14858 -1.36047,0.44576 -0.44485,0.2895 -0.92434,0.75046 -1.43849,1.38285 l 0,-2.03429 c 0.54881,-0.60194 1.05431,-1.0324 1.51647,-1.29147 0.46793,-0.26666 0.9532,-0.39999 1.45581,-0.39999 0.57191,0 1.24205,0.22856 2.01039,0.68574 0.0461,0.0308 0.0838,0.0533 0.11266,0.0687 0.0404,0.0228 0.0982,0.0533 0.1733,0.0913 0.803,0.4724 1.45002,0.70861 1.94108,0.70857 0.44481,4e-5 0.88676,-0.14475 1.32581,-0.43429 0.43905,-0.2895 0.9272001,-0.75425 1.46448006,-1.39428 z",compensation:"m 0.71428559,1.6639369 5.00000041,-5.0000001 0,9.9999998 z m -5.29999999,0 4.99999999,4.9999997 0,-9.9999998 z",reference:"m -2.8535142,-2.3696092 c 0,9.607029 0,9.7871607 0,9.7871607 l 9.3068093,0 0,-9.7871607 -9.6389273,-0.025715 5.1356324,0.025715 0,9.7871607 4.4432509,0 0,-4.8638044 -9.2553782,0.025715 z"};r.labelPadding=2,r.wordWrapMaxWidth=100+r.labelPadding;var a={},f="#222",l="darkOrange",c={"stroke-width":0},h={stroke:f,"stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round","stroke-opacity":1},p={stroke:f,"stroke-width":1.3,"stroke-opacity":1},d={stroke:f,style:"LongDashDot"},v={stroke:f,"stroke-width":1,"stroke-opacity":1,fill:"white"},m={stroke:f,"stroke-width":1.5,fill:"white"},g={"stroke-width":3},y={stroke:f,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-opacity":1,fill:"white"},b={stroke:f,"stroke-width":3,"stroke-linecap":"round","stroke-linejoin":"round","stroke-opacity":1,fill:"white"},w={stroke:f,"stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round","stroke-opacity":1,fill:"black"},E={fill:"white"},S={stroke:f},x=n({},S,{"stroke-width":2}),T={stroke:"#ccc"},N={stroke:f,fill:f,"stroke-opacity":1,"stroke-width":4},C={fill:f,style:"Solid","stroke-width":2,"arrow-end":"block-medium-medium","stroke-linecap":"square","stroke-linejoin":"round"},k={stroke:f,style:"Dot","stroke-width":2,"arrow-end":"block-medium-medium","stroke-linecap":"square","stroke-linejoin":"round"},L=n({},k),A={"stroke-width":2,"arrow-end":"open-wide-long","stroke-dasharray":"-",style:"LongDash","stroke-linecap":"round","stroke-linejoin":"round"},O={"font-size":12,"font-family":"Arial"},M={"font-size":20,"font-family":"Arial, Helvetica, sans-serif"},_={startEvent:m,endEvent:n({},m,g),boundaryEvent:m,intermediateCatchEvent:m,intermediateThrowEvent:m,exclusiveGateway:h,inclusiveGateway:h,complexGateway:h,parallelGateway:n({},m,{"stroke-width":3}),eventBasedGateway:h,userTask:y,serviceTask:y,callActivity:b,manualTask:y,receiveTask:y,scriptTask:y,sendTask:y,businessRuleTask:y,task:y,subProcess:y,transaction:y,adHocSubProcess:y,process:S,group:d,participant:x,lane:T,sequenceFlow:n({},h,C),messageFlow:n({},h,A),textAnnotation:h,association:k,dataInputAssociation:L,dataOutputAssociation:L,dataStoreReference:v,dataObject:v,dataObjectReference:v,dataInput:v,dataOutput:v},H=function(e,t,n,r){return function(i){return e.createText({text:i,align:n?n:r}).setFont(t).setFill("black")}},U={render:function(e,t){var n=e.renderElement,r=e.getStyle(n),i=e.renderBounds;if(n.processRef)return;if(!i)return;var s=+i.x,o=+i.y,u=+i.width,a=+i.height,f=t.createGroup();f.setTransform({dx:s,dy:o});var l={color:r.stroke,width:r["stroke-width"]},c=f.createRect({x:0,y:0,width:u,height:a});c.setStroke(l);var h=n.name;h&&R(e,t,{x:s+u/2,y:o+a/2},"middle")}},z={render:function(t,n){var i=t.renderElement,s=t.getStyle(i),o=t.renderBounds,u={family:"Arial",size:12,weight:"normal",align:"left"};if(!o)return;var a=+o.x,f=+o.y,l=+o.width,c=+o.height,h=n.createGroup();h.setTransform({dx:a,dy:f});var p=h.createRect({x:0,y:0,width:l,height:c});p.setStroke(s.stroke);var d=i.name;if(d){var v=H(n,u,"left"),m=j(a,f,v,u.size,!0,function(t,n,i,s){var o=t.getTextWidth(),f=s>1?c:c/2+o/2;t.applyTransform(e.matrix.translate(r.labelPadding+a+(i+1)*u.size,n+f)).applyTransform(e.matrix.rotateg(-90))});F([d],v,m,c)}var g=h.createLine({x1:30,y1:0,x2:30,y2:c});g.setStroke(s.stroke)}},W={render:function(e,t){var n=e.renderElement,i=e.getStyle(n),s=e.renderBounds;if(!s)return;var o=+s.x,u=+s.y,f=+s.width,l=+s.height,c=t.createGroup();c.setTransform({dx:o,dy:u});var h=c.createRect({x:0,y:0,width:f,height:l});h.setStroke({color:i.stroke,style:i.style}),n.name=a[n.categoryValueRef]?a[n.categoryValueRef]:"",R(e,t,{x:o+r.labelPadding*2,y:u+r.labelPadding*4+O["font-size"]},"left",!0)}},X={render:function(t,n){var r=t.baseElement,i=t.getStyle(),s=t.getBounds(),o=+s.x,u=+s.y,a=+s.width,f=+s.height,l=n.createGroup();l.setTransform({dx:o,dy:u});var c=l.createRect({x:0,y:0,width:a,height:f});c.setStroke(i.stroke);var h=t.baseElement.name;if(h){var p=l.createText({x:0,y:0,text:h});p.setFont({family:"Arial",size:"9pt",weight:"normal",align:"middle"}),p.setFill("black"),p.setTransform([e.matrix.translate(15,f/2+30),e.matrix.rotateg(-90)])}}},$={render:function(e,t){var n=e.renderElement,r=e.getStyle(),i=e.getWaypoints(),s=t.createGroup(),o=s.createPolyline(i);o.setStroke({color:r.stroke,style:r.style});var u=ut[n.type];return u&&u.decorate(e,i,s),R(e,t,V(i),"middle"),s}},J={render:function(e,t){var n=e.baseElement,r=e.getStyle(),s=e.getBounds(),o=+s.x,u=+s.y,a=+s.width,f=+s.height,l=t.createGroup();l.setTransform({dx:o,dy:u});var c=l.createPolyline([{x:a/2,y:0},{x:a,y:f/2},{x:a/2,y:f},{x:0,y:f/2},{x:a/2,y:0}]);c.setStroke(r.stroke),c.setFill(r.fill);var h=l.createGroup(),p=f/2*.8,d={color:r.stroke,width:r["stroke-width"]};switch(n.type){case"eventBasedGateway":var v=h.createCircle({cx:a/2,cy:f/2,r:p*.8}).setStroke(r.stroke),m=h.createCircle({cx:a/2,cy:f/2,r:p*.65}).setStroke(r.stroke),g=h.createPath(i.multiple).setStroke(r.stroke).setTransform({dx:a/2-4.5,dy:f/2-8});break;case"exclusiveGateway":var y=h.createText({x:a/2,y:f/2,text:"X",align:"middle"}).setFont({family:"Arial",size:p+"pt"}).setStroke(d).setFill(N.fill);y.setTransform({dy:p/2,dx:0});break;case"complexGateway":var y=h.createText({x:a/2,y:f/2,text:"X",align:"middle"}).setFont({family:"Arial",size:p+"pt"}).setStroke(d).setFill(N.fill);d.width=4,h.createLine({x1:a/2,y1:f*.2,x2:a/2,y2:f-f*.2}).setStroke(d),h.createLine({x1:a*.2,y1:f/2,x2:a-a*.2,y2:f/2}).setStroke(d),y.setTransform({dy:p/2,dx:0});break;case"parallelGateway":h.createLine({x1:a/2,y1:f*.2,x2:a/2,y2:f-f*.2}).setStroke(d),h.createLine({x1:a*.2,y1:f/2,x2:a-a*.2,y2:f/2}).setStroke(d);break;case"inclusiveGateway":var y=h.createCircle({cx:a/2,cy:f/2,r:p*.5}).setStroke(d)}R(e,t,{x:o+a/2,y:u+f+10},"middle")}},K={render:function(e,t){function w(e,t){var n="m 20.347,4.895 -2.561,2.56 0.943,2.277 3.624,0 0,3.383 -3.622,0 -0.943,2.277 2.563,2.563 -2.393,2.392 -2.561,-2.561 -2.277,0.943 0,3.624 -3.383,0 0,-3.622 L 7.46,17.788 4.897,20.35 2.506,17.958 5.066,15.397 4.124,13.12 l -3.624,0 0,-3.383 3.621,0 0.944,-2.276 -2.562,-2.563 2.392,-2.392 2.56,2.56 2.277,-0.941 0,-3.625 3.384,0 0,3.621 2.276,0.943 2.562,-2.562 z",r=e.createPath(n);r.setStroke({color:t.stroke,width:1.5}),r.setTransform({dx:5,dy:5,xx:.7,yy:.7});var i="m 15.141,11.426 c 0,2.051185 -1.662814,3.714 -3.714,3.714 -2.0511855,0 -3.7139999,-1.662815 -3.7139999,-3.714 0,-2.0511859 1.6628144,-3.7140003 3.7139999,-3.7140003 2.051186,0 3.714,1.6628144 3.714,3.7140003 z",s=e.createPath(i);s.setStroke({color:t.stroke,width:1.5}),s.setTransform({dx:5,dy:5,xx:.7,yy:.7});var o="m 26.347,10.895 -2.561,2.56 0.943,2.277 3.624,0 0,3.383 -3.622,0 -0.943,2.277 2.563,2.563 -2.393,2.392 -2.561,-2.561 -2.277,0.943 0,3.624 -3.383,0 0,-3.622 -2.277,-0.943 -2.563,2.562 -2.391,-2.392 2.56,-2.561 -0.942,-2.277 -3.624,0 0,-3.383 3.621,0 0.944,-2.276 -2.562,-2.563 2.392,-2.392 2.56,2.56 2.277,-0.941 0,-3.625 3.384,0 0,3.621 2.276,0.943 2.562,-2.562 z",u=e.createPath(o);u.setStroke({fill:"#ffffff",color:t.stroke,width:1.5}),u.setTransform({dx:5,dy:5,xx:.7,yy:.7}),u.setFill("#ffffff");var a="m 21.141,17.426001 c 0,2.051185 -1.662814,3.714 -3.714,3.714 -2.051186,0 -3.714,-1.662815 -3.714,-3.714 0,-2.051186 1.662814,-3.714 3.714,-3.714 2.051186,0 3.714,1.662814 3.714,3.714 z",f=e.createPath(a);f.setStroke({color:t.stroke,width:1.5}),f.setTransform({dx:5,dy:5,xx:.7,yy:.7})}function E(e,t){var n="m 6.0095,22.5169 h 16.8581 v -5.4831 c 0,0 -1.6331,-2.7419 -4.9581,-3.6169 h -6.475 c -3.0919,0.9331 -5.4831,4.025 -5.4831,4.025 l 0.0581,5.075 z",r=e.createPath(n);r.setStroke({color:t.stroke,width:.69999999}),r.setFill("#f4f6f7");var i="m 9.8,19.6 0,2.8",s=e.createPath(i);r.setFill("none"),s.setStroke({color:t.stroke,width:.69999999});var o="m 19.6,19.6 0,2.8",u=e.createPath(o);u.setStroke({color:t.stroke,width:.69999999});var a="m 18.419,5.9159999 c 0,2.9917264 -2.425274,5.4170001 -5.417,5.4170001 -2.991727,0 -5.417,-2.4252737 -5.417,-5.4170001 0,-2.9917264 2.425273,-5.41699983 5.417,-5.41699983 2.991726,0 5.417,2.42527343 5.417,5.41699983 z",f=e.createPath(a);f.setStroke({color:t.stroke,width:1.5}),f.setTransform({dx:5,dy:5,xx:.75,yy:.75}),f.setFill(t.stroke);var l="m 11.2301,10.5581 c 0,0 1.9698,-1.6982 3.7632,-1.2649 1.7934,0.4333 3.2368,-0.4851 3.2368,-0.4851 0.175,1.1816 0.0294,2.625 -1.0206,3.9088 0,0 0.7581,0.525 0.7581,1.05 0,0.525 0.0875,1.3125 -0.7,2.1 -0.7875,0.7875 -3.85,0.875 -4.725,0 -0.875,-0.875 -0.875,-1.2831 -0.875,-1.8669 0,-0.5838 0.4081,-0.875 0.875,-1.3419 -0.7581,-0.4081 -1.7493,-1.6625 -1.3125,-2.1 z",c=e.createPath(l);c.setStroke({color:t.stroke,width:.69999999}),c.setFill("#f0eff0")}function S(e,t){var n="M8,11 L8,21 L24,21 L24,11 L16,17z",r=e.createPath(n);r.setFill("#000000"),r.setTransform({xx:1.2});var i="M7,10 L16,17 L25 10z",s=e.createPath(i);s.setFill("#000000"),s.setTransform({dx:0,dy:-1.5,xx:1.2})}function x(e,t,n){var n=c.createPath(n);n.setStroke({color:t.stroke,width:1.5}),n.setTransform({dx:5,dy:5})}var n=e.baseElement,r=e.getStyle(),i=e.getBounds(),o=+i.x,a=+i.y,f=+i.width,l=+i.height,c=t.createGroup();c.setTransform({dx:o,dy:a});var h={color:r.stroke,width:r["stroke-width"]};n.triggeredByEvent=="true"&&(h.style="Dot");var d=c.createRect({x:0,y:0,width:f,height:l,r:5});d.setStroke(h),d.setFill(r.fill);if(n.type=="transaction"){var v=3,m=c.createRect({x:0+v,y:0+v,width:f-v*2,height:l-v*2,r:5});m.setStroke(h),m.setFill(r.fill)}if(n.marker){var g=0;function y(e){var t=c.createPath(u[e]);t.setStroke({color:p.stroke,width:p["stroke-width"]}),e=="adHoc"&&t.setFill("black");var n=g%2==0?1:-1;t.setTransform({dx:f/2+g*15*n,dy:l-10})}if(n.type=="callActivity"&&(!n.bpmndi[0].isExpanded||n.bpmndi[0].isExpanded==="false")||n.type=="subProcess"&&(!n.bpmndi[0].isExpanded||n.bpmndi[0].isExpanded==="false")||n.type=="adHocSubProcess"&&(!n.bpmndi[0].isExpanded||n.bpmndi[0].isExpanded==="false")||n.type=="transaction"&&(!n.bpmndi[0].isExpanded||n.bpmndi[0].isExpanded==="false"))y("reference"),g++;n.type.indexOf("adHoc")!=-1&&(n.marker.adHoc=!0);for(var b in n.marker)y(b),g++}s[n.type]&&(n.type=="serviceTask"?w(c,r):n.type=="userTask"?E(c,r):n.type=="sendTask"?S(c,r):x(c,r,s[n.type])),R(e,t,{x:o+f/2,y:a+l/2},"middle",!0)}},Q={render:function(e,t){var n=e.getStyle(),r=e.getBounds(),s=e.baseElement,o=e.getEventType(),u="Solid";s.cancelActivity=="false"&&(u="ShortDash"),s.isInterrupting=="false"&&(u="ShortDash");var u={color:n.stroke,style:u,width:n["stroke-width"]},a=n.fill,f=+r.x+u.width/2,l=+r.y+u.width/2,c=+r.width/2-u.width,h=t.createGroup();h.setTransform({dx:f,dy:l});var p=h.createCircle({cx:c,cy:c,r:c});p.setStroke(u),p.setFill(a);if(e.isIntermediateEvent()){var d=h.createCircle({cx:c,cy:c,r:c*.8});d.setStroke(u),d.setFill(a)}if(s.eventDefinitions&&s.eventDefinitions.length>0){var v=s.eventDefinitions[0].type,m=v;/^message/i.test(v)&&(m="message"+o);if(s.eventDefinitions.length>1)m="multiple",s.parallelMultiple=="true"&&(m="multipleParallel");else if(v=="terminateEventDefinition"){var d=h.createCircle({cx:c,cy:c,r:c*.75});d.setFill("black")}var g=h.createPath(i[m]),y=g.getBoundingBox();g.setStroke(n.stroke),g.setTransform({dx:c-(y?y.width/4:0)-u.width/4,dy:c-(y?y.height/2:0)}),o=="throw"&&g.setFill("black")}return s.type=="boundaryEvent"&&function(t,n){e.postRenderParent(function(){D(t,n,e.options)})}(s,h),R(e,t,{x:f+ +r.width/2,y:l+ +r.width+c},"middle"),p}},G={render:function(e,t){var n=e.getStyle(),r={family:O["font-family"],size:O["font-size"],weight:"normal"},i=4,s=e.getBounds(),o=+s.x,u=+s.y,a=t.createGroup(),f=q(e.baseElement.text,a,r,i,r.size+i,"left"),l=(f+1)*r.size;a.setTransform({dx:o,dy:u}),a.createPolyline([{x:10,y:0},{x:0,y:0},{x:0,y:l},{x:10,y:l}]).setStroke(n.stroke)}},Y={render:function(){}},Z={render:function(e,t){var n=e.getStyle(),r=e.getBounds();if(!r)return;var s=+r.x,a=+r.y,f=+r.width,l=+r.height,c=o[e.baseElement.type],h=t.createGroup();h.setTransform({dx:s,dy:a,xx:f/c.width,yy:l/c.height});if(e.baseElement.isCollection==="true"){var p=h.createPath(u.multiInstanceParallel);p.setStroke("#000"),p.setFill("#000"),p.setTransform({dx:f/2-5,dy:l-15})}var d={x:s+f/2,y:a+l/2},v=7,m=12;switch(e.baseElement.type){case"dataInput":var g=h.createPath(i.linkEventDefinition);g.setStroke("#000"),g.setTransform({dx:v,dy:v});break;case"dataOutput":var g=h.createPath(i.linkEventDefinition);g.setStroke("#000"),g.setFill("#000"),g.setTransform({dx:v,dy:v});break;case"dataStoreReference":d.y=a+l+m}var y={family:O["font-family"],size:O["font-size"],weight:"normal"},b=h.createPath(c.path).setStroke(n.stroke);return R(e,t,d,"middle"),b}},nt={decorate:function(e,t,n){var r=e.getStyle(),i=et({from:t[t.length-2],to:t[t.length-1],group:n});i.setStroke({color:r.stroke}),i.setFill("black")}},rt={decorate:function(e,t,n){function u(e,t){for(var n=0,r;!!(r=e[n]);n++)if(r.id==t)return r;return null}var r=e.getStyle(),s=et({from:t[t.length-2],to:t[t.length-1],group:n});s.setStroke({color:r.stroke}),s.setFill("white");var o=tt(t[0],n);o.setStroke({color:r.stroke}),o.setFill("white");var a=e.renderElement,f=a.bpmndi&&a.bpmndi[0].messageVisibleKind?a.bpmndi[0].messageVisibleKind:null;if(a.messageRef&&f){var l=u(e.baseElement,a.messageRef);if(!l)return;var c=n.createGroup(),h=c.createPath(i.messagecatch),p=V(t);h.setStroke(r.stroke);var d=f.toLowerCase()=="non-initiating";h.setFill(d?"#ccc":"#fff"),h.setTransform({dx:p.x,dy:p.y,xx:1.5,yy:1.5}),R({renderElement:l,getLabelBounds:function(){return{x:p.x+30,y:p.y+10}}},c,null,"left")}}},it={decorate:function(e,t,n){var r=e.getStyle(),i=et({from:t[t.length-2],to:t[t.length-1],group:n,open:!0});i.setStroke({color:r.stroke})}},st={decorate:function(e,t,n){var r=e.renderElement,i=r.associationDirection,s=e.getStyle();if(i=="One"||i=="Both"){var o=et({from:t[t.length-2],to:t[t.length-1],group:n,open:!0});o.setStroke({color:s.stroke})}if(i=="Both"){var u=et({from:t[1],to:t[0],group:n,open:!0});u.setStroke({color:s.stroke})}}},ot={};ot.process=z,ot.participant=U,ot.startEvent=Q,ot.endEvent=Q,ot.boundaryEvent=Q,ot.intermediateCatchEvent=Q,ot.intermediateThrowEvent=Q,ot.userTask=K,ot.task=K,ot.subProcess=K,ot.transaction=K,ot.group=W,ot.adHocSubProcess=K,ot.serviceTask=K,ot.callActivity=K,ot.manualTask=K,ot.receiveTask=K,ot.scriptTask=K,ot.sendTask=K,ot.businessRuleTask=K,ot.exclusiveGateway=J,ot.inclusiveGateway=J,ot.parallelGateway=J,ot.eventBasedGateway=J,ot.complexGateway=J,ot.sequenceFlow=$,ot.dataInputAssociation=$,ot.dataOutputAssociation=$,ot.messageFlow=$,ot.association=$,ot.lane=X,ot.textAnnotation=G,ot.dataStoreReference=Z,ot.dataObjectReference=Z,ot.dataObject=Z,ot.dataInput=Z,ot.dataOutput=Z,ot.message=Y;var ut={};ut.sequenceFlow=nt,ut.messageFlow=rt,ut.dataInputAssociation=it,ut.dataOutputAssociation=it,ut.association=st;var at=function(){function e(e,t){throw this.message=e,this.bpmnElementRenderer=t,e}return e}();return r.prototype.postRenderParent=function(e){this.options.postRenderCallbacks.push(e)},r.prototype.render=function(i,s){this.gfxGroup=s,this.options=i,i.overlayMap||(i.overlayMap={}),this.overlayMap=i.overlayMap;if(!s){var o=i.width?i.width:800,u=i.height?i.height:600;s=this.gfxGroup=e.createSurface(i.diagramElement,o,u).createGroup()}var f=[].concat(this.baseElement);for(var l in f){var c=this.renderElement=f[l],h=this.renderBounds=this.getElementBounds(c);if(c.type=="categoryValue"){a[c.id]=c.value;continue}if(h&&!i.skipOverlays){var p=t("#"+i.diagramElement).css("position","relative"),d=t('<div class="bpmnElement"></div>');d.attr("data-activity-id",c.id).css({position:"absolute",left:+h.x+"px",top:+h.y+"px",width:+h.width+"px",height:+h.height+"px"}).appendTo(p),this.overlayMap[c.id]=d,i.overlayHtml&&d.html(i.overlayHtml)}var v=ot[c.type];v?this.svgElement=v.render(this,s):lt("Unable to render element of type ",c.type);if(!!c.baseElements){var m=[],g=n({},i,{postRenderCallbacks:m});for(var y=0;y<c.baseElements.length;y++)(new r(c.baseElements[y],this)).render(g,s);for(var b=0,w;!!(w=m[b]);b++)w()}}},r.prototype.getLabelBounds=function(){var e=this.renderElement;switch(e.type){case"transaction":case"adHocSubProcess":case"subProcess":if(e.bpmndi[0].isExpanded==="true")return{x:e.bounds.x+O["font-size"]+r.labelPadding,y:+e.bounds.y+O["font-size"]+r.labelPadding}}var t=e.bpmndi[0].children;for(var n in t){var i=t[n];if(/BPMNLabel/i.test(i.type))return ft(i.children)}return null},r.prototype.getBounds=function(){if(this.baseElement instanceof Array){var e={x:1e4,y:1e4,width:1,height:1};for(var t in this.baseElement){var n=this.baseElement[t],r=this.getElementBounds(n);r&&(e.x=Math.min(+r.x,+e.x),e.y=Math.min(+r.y,+e.y),e.width=Math.max(+r.x+ +r.width,+e.width),e.height=Math.max(+r.y+ +r.height,+e.height))}return e}if(this.baseElement.bounds)return this.baseElement.bounds;var r=this.getElementBounds(this.baseElement);return this.baseElement.bounds=r,r},r.prototype.getElementBounds=function(e){if(!e.bpmndi)return null;var t=e.bpmndi[0].children,n=ft(t);if(!n)return;var r=this.getSurface().getDimensions(),i=+n.x+ +n.width,s=+n.y+ +n.height,o=50;return(i>r.width||s>r.height)&&this.getSurface().setDimensions(Math.max(i+o,r.width),Math.max(s+o,r.height)),n},r.prototype.getWaypoints=function(){var e=this.renderElement,t=[],n=e.bpmndi[0].children;for(var r in n){var i=n[r];/waypoint/i.test(i.type)&&t.push({x:+i.x,y:+i.y})}return t},r.prototype.getStyle=function(e){var t=e||this.renderElement;return _[t.type]||c},r.prototype.getEventType=function(){var e="catch",t="throw";switch(this.baseElement.type){case"startEvent":return e;case"endEvent":return t;case"intermediateCatchEvent":return e;case"boundaryEvent":return e;case"intermediateThrowEvent":return t}return undefined},r.prototype.isIntermediateEvent=function(){switch(this.baseElement.type){case"intermediateCatchEvent":case"boundaryEvent":case"intermediateThrowEvent":return!0;default:return!1}},r.prototype.getSurface=function(){var e=this.gfxGroup.getParent();do if(e instanceof dojox.gfx.Surface)return e;while(e=e.getParent());return null},r.prototype.RENDERER_DELEGATES=ot,r}),define("bpmn/Bpmn",["jquery","bpmn/Transformer","bpmn/Renderer"],function(e,t,n){function r(){}return r.prototype.renderUrl=function(t,n){var r=jQuery.Deferred(),i=this;return e.get(t).done(function(e){var t;try{r.resolve(i.render(e,n))}catch(s){r.reject(s)}}).fail(function(e){r.reject(e)}),r},r.prototype.renderDiagram=function(e,t){var r=new n(e);r.render(t),this.definitionRenderer=r,this.processDefinitions=e,this.options=t,this.overlayMap=t.overlayMap,delete t.overlayMap;var i=r.getSurface().getDimensions(),s=1,o=1;i&&(s=parseFloat(i.width),o=parseFloat(i.height));var u=Math.min((t.width||s)/s,(t.height||o)/o);return this.zoom(u),this},r.prototype.render=function(e,n){var r=(new t).transform(e);return this.bpmnXml=e,this.renderDiagram(r,n),this},r.prototype.zoom=function(t){var n=this.definitionRenderer.gfxGroup.getTransform(),r=1,i=1;!n||(r=n.xx,i=n.yy),this.definitionRenderer.gfxGroup.setTransform({xx:t,yy:t});var s=this.definitionRenderer.getSurface().getDimensions();return this.definitionRenderer.getSurface().setDimensions(+s.width/r*t,+s.height/r*t),e.each(this.getOverlays(),function(e,n){n.style.left=n.style.left.split("px")[0]/r*t+"px",n.style.top=n.style.top.split("px")[0]/i*t+"px",n.style.width=n.style.width.split("px")[0]/r*t+"px",n.style.height=n.style.height.split("px")[0]/i*t+"px"}),this},r.prototype.getOverlays=function(){return e("#"+this.options.diagramElement+" .bpmnElement")},r.prototype.getOverlay=function(e){return this.overlayMap[e]},r.prototype.annotation=function(t){var n=this.getOverlay(t);if(!n)throw new Error("Element "+t+" does not exist.");return{addDiv:function(t,r){return e("<div></div>").html(t).addClass((r||[]).join(" ")).appendTo(n)},setHtml:function(e){return n.html(e),this},addClasses:function(e){return n.addClass((e||[]).join(" ")),this},removeClasses:function(e){return n.removeClass((e||[]).join(" ")),this}}},r.prototype.clearAnnotations=function(e,t){var n=this.getOverlay(e);return n.empty().removeClass((t||[]).join(" ")),n},r.prototype.clear=function(){this.definitionRenderer.gfxGroup.destroy(),e("#"+this.options.diagramElement).empty()},r});